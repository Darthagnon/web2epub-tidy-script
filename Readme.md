# Prepare website links for Web2Epub

This script tidies link lists for the [Web2EPUB browser extension](https://github.com/dteviot/WebToEpub). 

By default, the extension does not accept a list of plain URLs, but requires them to be formatted as HTML with `<a>` tags and page titles. This is a pain to do manually, so this script automates the process.

## script1.py
Generated by ChatGPT4o 31 Aug 2024. See `requirements.txt` for dependencies.

### Notes:
- The script handles errors when fetching URLs, so if a URL fails, it will print an error message and continue processing the rest.
- The title extraction assumes that the title is present in the `<title>` tag of the HTML. Adjustments may be needed based on the specific structure of the pages you are working with.

## script2.py
Generated by ChatGPT4o 31 Aug 2024. Uses no external dependencies.

### Notes:
- This script uses the built-in `http.client` for making HTTP requests and `html.parser` for parsing HTML. It should work for most simple web pages, but it may not handle all edge cases or complex HTML structures.
- The script assumes that the server supports HTTPS. If you need to handle HTTP URLs, you can modify the connection method accordingly.

## Usage:

1. Create `links.txt` which is a list of all the webpages you want in your EPUB, 1 URL per line.
2. Places `links.txt` next to the script.
3. Run `python script2.py` and wait a minute
4. A file called `formatted_links.txt` will be generated, containing the list of all the webpages you provided, formatted as HTML links with page titles.
5. Enter Chapter 1 **Starting URL** into Web2EPUB and click "Load and Analyze", then enter the correct CSS selectors for the page title and content. Then click **Apply**. 
6. Ignore the nonsense that Web2EPUB generates by default. Click **Edit Chapter URLs**. Copypaste the contents of `formatted_links.txt` into Web2EPUB's **Edit Chapter URLs** box.
7. Generate EPUB. 

### Usage notes 
Web2EPUB versions higher than 0.158 and Chromium versions higher than 90 (approx.) will default to downloading WEBP images, which are not part of the EPUB spec and will not be loaded by most ereader software. Use older versions as a workaround, or download images manually using **[Imageye - Image Downloader](https://chromewebstore.google.com/detail/image-downloader-imageye/agionbommeaifngbhincahgmoflcikhm)** (it can scrape original JPEGs or, as a last resort, auto-convert images to JPG). 
